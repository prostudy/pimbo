<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PimBo - Generador de Artefactos PMBOK 8</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header .subtitle {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .header .version {
            font-size: 0.9em;
            opacity: 0.7;
            margin-top: 10px;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
        }

        .section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
        }

        input[type="text"],
        textarea,
        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: #667eea;
        }

        textarea {
            resize: vertical;
            min-height: 100px;
        }

        /* Provider selector */
        .provider-selector {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 10px;
        }

        .provider-option {
            position: relative;
            border: 3px solid #e0e0e0;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
            background: white;
        }

        .provider-option:hover {
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }

        .provider-option.selected {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .provider-option input[type="radio"] {
            position: absolute;
            opacity: 0;
        }

        .provider-logo {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .provider-name {
            font-weight: bold;
            font-size: 1.2em;
            color: #667eea;
            margin-bottom: 5px;
        }

        .provider-description {
            font-size: 0.9em;
            color: #666;
            line-height: 1.4;
        }

        .provider-features {
            margin-top: 10px;
            font-size: 0.85em;
            color: #888;
        }

        .provider-features li {
            margin-left: 20px;
            margin-top: 5px;
        }

        .artifacts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .artifact-card {
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .artifact-card:hover {
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }

        .artifact-card.selected {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .artifact-card input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-right: 10px;
            cursor: pointer;
        }

        .artifact-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .artifact-header h3 {
            color: #667eea;
            font-size: 1.2em;
        }

        .artifact-description {
            color: #666;
            font-size: 0.9em;
            line-height: 1.5;
        }

        .artifact-badge {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75em;
            margin-top: 8px;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s;
            font-weight: 600;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .output-section {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-top: 30px;
            display: none;
        }

        .output-section.active {
            display: block;
        }

        .prompt-output {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
        }

        .copy-btn {
            background: #48bb78;
            margin-top: 10px;
        }

        .copy-btn:hover {
            background: #38a169;
        }

        .phase-selector {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .phase-btn {
            padding: 10px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
        }

        .phase-btn.active {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .help-text {
            font-size: 0.9em;
            color: #666;
            margin-top: 5px;
            font-style: italic;
        }

        .quick-templates {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .template-btn {
            padding: 8px 16px;
            background: #e0e7ff;
            color: #667eea;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
        }

        .template-btn:hover {
            background: #c7d2fe;
        }

        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            border-radius: 4px;
            margin-top: 10px;
        }

        .info-box.warning {
            background: #fff3cd;
            border-left-color: #ffc107;
        }

        .info-box.success {
            background: #d4edda;
            border-left-color: #28a745;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }

            .artifacts-grid {
                grid-template-columns: 1fr;
            }

            .provider-selector {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ PimBo</h1>
            <p class="subtitle">Generador Inteligente de Artefactos de Gesti√≥n de Proyectos PMBOK 8</p>
            <p class="version">Powered by Claude AI & Google Gemini</p>
        </div>

        <div class="content">
            <!-- SECCI√ìN 0: Selecci√≥n de Proveedor de IA -->
            <div class="section">
                <h2>ü§ñ Proveedor de IA</h2>
                <p class="help-text">Selecciona qu√© inteligencia artificial usar√°s para generar los artefactos</p>

                <div class="provider-selector">
                    <label class="provider-option selected" data-provider="claude">
                        <input type="radio" name="provider" value="claude" checked>
                        <div class="provider-logo">üß†</div>
                        <div class="provider-name">Claude AI</div>
                        <div class="provider-description">
                            Excelente para documentos narrativos y an√°lisis detallado
                        </div>
                        <ul class="provider-features">
                            <li>Genera archivos directamente</li>
                            <li>Mejor para documentaci√≥n compleja</li>
                            <li>An√°lisis contextual profundo</li>
                        </ul>
                    </label>

                    <label class="provider-option" data-provider="gemini">
                        <input type="radio" name="provider" value="gemini">
                        <div class="provider-logo">üíé</div>
                        <div class="provider-name">Google Gemini</div>
                        <div class="provider-description">
                            Ideal para datos estructurados y visualizaci√≥n
                        </div>
                        <ul class="provider-features">
                            <li>Muestra artefactos visualmente</li>
                            <li>Genera archivo ZIP descargable</li>
                            <li>Excelente para tablas y matrices</li>
                        </ul>
                    </label>
                </div>

                <div id="providerInfo" class="info-box" style="margin-top: 20px;">
                    <strong>Usando Claude AI:</strong> Los archivos se generar√°n autom√°ticamente en tu directorio. No se mostrar√°n en el chat.
                </div>
            </div>

            <!-- SECCI√ìN 1: Informaci√≥n del Proyecto -->
            <div class="section">
                <h2>üìã Informaci√≥n del Proyecto</h2>

                <div class="form-group">
                    <label for="projectName">Nombre del Proyecto *</label>
                    <input type="text" id="projectName" placeholder="Ej: Sistema CRM para Departamento de Ventas">
                    <p class="help-text">Nombre descriptivo y corto del proyecto</p>
                </div>

                <div class="form-group">
                    <label for="projectDescription">Descripci√≥n / Requerimiento *</label>
                    <textarea id="projectDescription" placeholder="Describe el proyecto, su prop√≥sito y qu√© se busca lograr..."></textarea>
                    <p class="help-text">Describe qu√© es el proyecto y qu√© problema resuelve</p>
                </div>

                <div class="form-group">
                    <label for="projectJustification">Justificaci√≥n / Caso de Negocio *</label>
                    <textarea id="projectJustification" placeholder="¬øPor qu√© es necesario este proyecto? ¬øQu√© valor aporta?"></textarea>
                    <p class="help-text">Explica por qu√© se debe realizar este proyecto</p>
                </div>

                <div class="quick-templates">
                    <strong>Plantillas r√°pidas:</strong>
                    <button class="template-btn" onclick="loadTemplate('crm')">CRM de Ventas</button>
                    <button class="template-btn" onclick="loadTemplate('erp')">Sistema ERP</button>
                    <button class="template-btn" onclick="loadTemplate('mobile')">App M√≥vil</button>
                    <button class="template-btn" onclick="loadTemplate('infrastructure')">Infraestructura IT</button>
                </div>
            </div>

            <!-- SECCI√ìN 2: Configuraci√≥n del Proyecto -->
            <div class="section">
                <h2>‚öôÔ∏è Configuraci√≥n del Proyecto</h2>

                <div class="form-group">
                    <label>Fase del Ciclo de Vida *</label>
                    <div class="phase-selector">
                        <button class="phase-btn" data-phase="inicio" onclick="selectPhase('inicio')">Inicio</button>
                        <button class="phase-btn" data-phase="planificacion" onclick="selectPhase('planificacion')">Planificaci√≥n</button>
                        <button class="phase-btn" data-phase="ejecucion" onclick="selectPhase('ejecucion')">Ejecuci√≥n</button>
                        <button class="phase-btn" data-phase="monitoreo" onclick="selectPhase('monitoreo')">Monitoreo</button>
                        <button class="phase-btn" data-phase="cierre" onclick="selectPhase('cierre')">Cierre</button>
                    </div>
                    <p class="help-text">Selecciona en qu√© fase se encuentra tu proyecto</p>
                </div>

                <div class="form-group">
                    <label for="approach">Enfoque del Proyecto *</label>
                    <select id="approach">
                        <option value="">Seleccionar enfoque...</option>
                        <option value="predictivo">Predictivo (Cascada/Tradicional)</option>
                        <option value="agil">√Ågil (Scrum/Kanban)</option>
                        <option value="hibrido">H√≠brido (Predictivo + √Ågil)</option>
                        <option value="iterativo">Iterativo/Incremental</option>
                    </select>
                    <p class="help-text">¬øC√≥mo se gestionar√° el proyecto?</p>
                </div>
            </div>

            <!-- SECCI√ìN 3: Selecci√≥n de Artefactos -->
            <div class="section">
                <h2>üì¶ Artefactos a Generar</h2>
                <p class="help-text" style="margin-bottom: 20px;">Selecciona los documentos que necesitas generar para tu proyecto</p>

                <div class="artifacts-grid" id="artifactsGrid">
                    <!-- Gobernanza -->
                    <div class="artifact-card" onclick="toggleArtifact('acta')">
                        <div class="artifact-header">
                            <input type="checkbox" id="acta" onclick="event.stopPropagation()">
                            <h3>Acta de Constituci√≥n</h3>
                        </div>
                        <p class="artifact-description">
                            Documento que autoriza formalmente el proyecto. Incluye objetivos, alcance preliminar, patrocinador y presupuesto inicial.
                        </p>
                        <span class="artifact-badge">Gobernanza</span>
                        <span class="artifact-badge">Fase: Inicio</span>
                    </div>

                    <!-- Alcance -->
                    <div class="artifact-card" onclick="toggleArtifact('wbs')">
                        <div class="artifact-header">
                            <input type="checkbox" id="wbs" onclick="event.stopPropagation()">
                            <h3>WBS (EDT)</h3>
                        </div>
                        <p class="artifact-description">
                            Estructura de Desglose del Trabajo. Descomposici√≥n jer√°rquica del trabajo total del proyecto en componentes manejables.
                        </p>
                        <span class="artifact-badge">Alcance</span>
                        <span class="artifact-badge">Fase: Planificaci√≥n</span>
                    </div>

                    <div class="artifact-card" onclick="toggleArtifact('requisitos')">
                        <div class="artifact-header">
                            <input type="checkbox" id="requisitos" onclick="event.stopPropagation()">
                            <h3>Documento de Requisitos</h3>
                        </div>
                        <p class="artifact-description">
                            Lista completa de requisitos funcionales y no funcionales del proyecto con prioridades y criterios de aceptaci√≥n.
                        </p>
                        <span class="artifact-badge">Alcance</span>
                        <span class="artifact-badge">Fase: Planificaci√≥n</span>
                    </div>

                    <!-- Cronograma -->
                    <div class="artifact-card" onclick="toggleArtifact('cronograma')">
                        <div class="artifact-header">
                            <input type="checkbox" id="cronograma" onclick="event.stopPropagation()">
                            <h3>Cronograma (Gantt)</h3>
                        </div>
                        <p class="artifact-description">
                            Cronograma del proyecto con actividades, duraciones, dependencias y camino cr√≠tico en formato Gantt.
                        </p>
                        <span class="artifact-badge">Cronograma</span>
                        <span class="artifact-badge">Fase: Planificaci√≥n</span>
                    </div>

                    <!-- Finanzas -->
                    <div class="artifact-card" onclick="toggleArtifact('presupuesto')">
                        <div class="artifact-header">
                            <input type="checkbox" id="presupuesto" onclick="event.stopPropagation()">
                            <h3>Presupuesto</h3>
                        </div>
                        <p class="artifact-description">
                            Presupuesto detallado del proyecto por categor√≠as, con reservas de contingencia y distribuci√≥n temporal.
                        </p>
                        <span class="artifact-badge">Finanzas</span>
                        <span class="artifact-badge">Fase: Planificaci√≥n</span>
                    </div>

                    <!-- Interesados -->
                    <div class="artifact-card" onclick="toggleArtifact('interesados')">
                        <div class="artifact-header">
                            <input type="checkbox" id="interesados" onclick="event.stopPropagation()">
                            <h3>Registro de Interesados</h3>
                        </div>
                        <p class="artifact-description">
                            Identificaci√≥n de stakeholders con an√°lisis de poder/inter√©s y estrategias de gesti√≥n espec√≠ficas.
                        </p>
                        <span class="artifact-badge">Interesados</span>
                        <span class="artifact-badge">Fase: Inicio</span>
                    </div>

                    <div class="artifact-card" onclick="toggleArtifact('comunicaciones')">
                        <div class="artifact-header">
                            <input type="checkbox" id="comunicaciones" onclick="event.stopPropagation()">
                            <h3>Plan de Comunicaciones</h3>
                        </div>
                        <p class="artifact-description">
                            Define qu√© informaci√≥n se compartir√° con qui√©n, cu√°ndo, c√≥mo y con qu√© frecuencia.
                        </p>
                        <span class="artifact-badge">Interesados</span>
                        <span class="artifact-badge">Fase: Planificaci√≥n</span>
                    </div>

                    <!-- Recursos -->
                    <div class="artifact-card" onclick="toggleArtifact('raci')">
                        <div class="artifact-header">
                            <input type="checkbox" id="raci" onclick="event.stopPropagation()">
                            <h3>Matriz RACI</h3>
                        </div>
                        <p class="artifact-description">
                            Asigna responsabilidades espec√≠ficas: Responsable, Aprobador, Consultado e Informado para cada entregable.
                        </p>
                        <span class="artifact-badge">Recursos</span>
                        <span class="artifact-badge">Fase: Planificaci√≥n</span>
                    </div>

                    <!-- Riesgo -->
                    <div class="artifact-card" onclick="toggleArtifact('riesgos')">
                        <div class="artifact-header">
                            <input type="checkbox" id="riesgos" onclick="event.stopPropagation()">
                            <h3>Registro de Riesgos</h3>
                        </div>
                        <p class="artifact-description">
                            Documenta riesgos identificados con probabilidad, impacto, estrategia de respuesta y responsable.
                        </p>
                        <span class="artifact-badge">Riesgo</span>
                        <span class="artifact-badge">Fase: Planificaci√≥n</span>
                    </div>

                    <!-- √Ågil -->
                    <div class="artifact-card" onclick="toggleArtifact('backlog')">
                        <div class="artifact-header">
                            <input type="checkbox" id="backlog" onclick="event.stopPropagation()">
                            <h3>Product Backlog</h3>
                        </div>
                        <p class="artifact-description">
                            Lista priorizada de historias de usuario y funcionalidades del producto para proyectos √°giles.
                        </p>
                        <span class="artifact-badge">√Ågil</span>
                        <span class="artifact-badge">Fase: Inicio</span>
                    </div>

                    <div class="artifact-card" onclick="toggleArtifact('historias')">
                        <div class="artifact-header">
                            <input type="checkbox" id="historias" onclick="event.stopPropagation()">
                            <h3>Historias de Usuario</h3>
                        </div>
                        <p class="artifact-description">
                            Funcionalidades descritas desde la perspectiva del usuario con criterios de aceptaci√≥n espec√≠ficos.
                        </p>
                        <span class="artifact-badge">√Ågil</span>
                        <span class="artifact-badge">Fase: Planificaci√≥n</span>
                    </div>
                </div>
            </div>

            <!-- BOT√ìN GENERAR -->
            <div class="section" style="text-align: center;">
                <button class="btn" onclick="generatePrompt()">
                    <span id="btnText">‚ú® Generar Prompt</span>
                </button>
            </div>

            <!-- OUTPUT -->
            <div class="output-section" id="outputSection">
                <h2 style="color: #667eea; margin-bottom: 20px;">üìù Prompt Generado</h2>
                <p id="outputInstructions" style="margin-bottom: 15px; color: #666;">
                    Copia el siguiente texto y p√©galo en Claude Code o Claude.ai para generar tus artefactos:
                </p>
                <div class="prompt-output" id="promptOutput"></div>
                <button class="btn copy-btn" onclick="copyPrompt(event)">üìã Copiar Prompt</button>
            </div>
        </div>
    </div>

    <script>
        let selectedPhase = '';
        let selectedProvider = 'claude';

        // Templates predefinidos
        const templates = {
            crm: {
                name: 'Sistema CRM para Departamento de Ventas',
                description: 'Sistema de gesti√≥n de relaciones con clientes (CRM) para mejorar el seguimiento de oportunidades de venta, gestionar contactos y generar reportes de desempe√±o comercial.',
                justification: 'Incrementar las ventas en un 15% mediante mejor gesti√≥n de clientes y oportunidades. Actualmente se pierden oportunidades por falta de seguimiento sistem√°tico y los reportes se generan manualmente.'
            },
            erp: {
                name: 'Implementaci√≥n de Sistema ERP',
                description: 'Implementaci√≥n de sistema de planificaci√≥n de recursos empresariales (ERP) para integrar procesos de finanzas, inventarios, compras y recursos humanos en una plataforma √∫nica.',
                justification: 'Reducir costos operativos en 20% mediante automatizaci√≥n de procesos y eliminar sistemas aislados que generan duplicaci√≥n de informaci√≥n y errores de integraci√≥n.'
            },
            mobile: {
                name: 'Aplicaci√≥n M√≥vil de Servicios',
                description: 'Desarrollo de aplicaci√≥n m√≥vil nativa (iOS y Android) para que clientes puedan solicitar servicios, hacer seguimiento de pedidos y realizar pagos desde sus dispositivos m√≥viles.',
                justification: 'Mejorar experiencia del cliente y capturar el 40% del mercado que prefiere canales digitales. Competidores ya ofrecen apps m√≥viles y estamos perdiendo cuota de mercado.'
            },
            infrastructure: {
                name: 'Migraci√≥n a Infraestructura Cloud',
                description: 'Migraci√≥n de servidores on-premise a infraestructura cloud (AWS/Azure) incluyendo base de datos, aplicaciones web y sistemas de respaldo.',
                justification: 'Reducir costos de infraestructura en 30%, mejorar disponibilidad a 99.9% y habilitar escalabilidad autom√°tica para picos de demanda.'
            }
        };

        function selectProvider(provider) {
            selectedProvider = provider;

            // Update UI
            document.querySelectorAll('.provider-option').forEach(option => {
                option.classList.remove('selected');
                // Find the one that contains the selected provider's radio button
                const radio = option.querySelector('input[type="radio"]');
                if (radio && radio.value === provider) {
                    option.classList.add('selected');
                }
            });

            // Update radio
            document.querySelector(`input[value="${provider}"]`).checked = true;

            // Update info box
            const infoBox = document.getElementById('providerInfo');
            if (provider === 'claude') {
                infoBox.className = 'info-box';
                infoBox.innerHTML = '<strong>Usando Claude AI:</strong> Los archivos se generar√°n autom√°ticamente en tu directorio. No se mostrar√°n en el chat.';
            } else {
                infoBox.className = 'info-box warning';
                infoBox.innerHTML = '<strong>Usando Google Gemini:</strong> Los artefactos se mostrar√°n visualmente en el chat para que puedas copiarlos. Al final se generar√° un archivo ZIP descargable con todos los documentos.';
            }

            // Update button text
            const btnText = document.getElementById('btnText');
            if (provider === 'claude') {
                btnText.textContent = '‚ú® Generar Prompt para Claude';
            } else {
                btnText.textContent = '‚ú® Generar Prompt para Gemini';
            }
        }

        function loadTemplate(templateName) {
            const template = templates[templateName];
            if (template) {
                document.getElementById('projectName').value = template.name;
                document.getElementById('projectDescription').value = template.description;
                document.getElementById('projectJustification').value = template.justification;
            }
        }

        function selectPhase(phase) {
            selectedPhase = phase;
            document.querySelectorAll('.phase-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-phase="${phase}"]`).classList.add('active');
        }

        function toggleArtifact(artifactId) {
            const checkbox = document.getElementById(artifactId);
            checkbox.checked = !checkbox.checked;
            updateCardStyle(artifactId);
        }

        function updateCardStyle(artifactId) {
            const checkbox = document.getElementById(artifactId);
            const card = checkbox.closest('.artifact-card');
            if (checkbox.checked) {
                card.classList.add('selected');
            } else {
                card.classList.remove('selected');
            }
        }

        // Event listeners para checkboxes
        document.querySelectorAll('.artifact-card input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                updateCardStyle(this.id);
            });
        });

        // Event listeners para provider selector
        document.querySelectorAll('.provider-option').forEach(option => {
            option.addEventListener('click', function() {
                const provider = this.getAttribute('data-provider');
                selectProvider(provider);
            });
        });

        function generatePrompt() {
            // Validaciones
            const projectName = document.getElementById('projectName').value.trim();
            const description = document.getElementById('projectDescription').value.trim();
            const justification = document.getElementById('projectJustification').value.trim();
            const approach = document.getElementById('approach').value;

            if (!projectName || !description || !justification) {
                alert('Por favor completa la informaci√≥n b√°sica del proyecto (Nombre, Descripci√≥n y Justificaci√≥n)');
                return;
            }

            if (!selectedPhase) {
                alert('Por favor selecciona la fase del ciclo de vida del proyecto');
                return;
            }

            if (!approach) {
                alert('Por favor selecciona el enfoque del proyecto');
                return;
            }

            // Obtener artefactos seleccionados
            const artifacts = {
                acta: 'Acta de Constituci√≥n del Proyecto',
                wbs: 'WBS (Estructura de Desglose del Trabajo) en formato JSON',
                requisitos: 'Documento de Requisitos',
                cronograma: 'Cronograma del Proyecto (Gantt) en formato CSV',
                presupuesto: 'Presupuesto del Proyecto en formato CSV',
                interesados: 'Registro de Interesados en formato CSV',
                comunicaciones: 'Plan de Comunicaciones',
                raci: 'Matriz RACI en formato CSV',
                riesgos: 'Registro de Riesgos en formato CSV',
                backlog: 'Product Backlog en formato CSV',
                historias: 'Historias de Usuario'
            };

            const selectedArtifacts = [];
            for (const [id, name] of Object.entries(artifacts)) {
                if (document.getElementById(id).checked) {
                    selectedArtifacts.push(name);
                }
            }

            if (selectedArtifacts.length === 0) {
                alert('Por favor selecciona al menos un artefacto para generar');
                return;
            }

            // Generar prompt seg√∫n proveedor
            const phaseLabels = {
                inicio: 'Inicio',
                planificacion: 'Planificaci√≥n',
                ejecucion: 'Ejecuci√≥n',
                monitoreo: 'Monitoreo y Control',
                cierre: 'Cierre'
            };

            const approachLabels = {
                predictivo: 'Predictivo (Cascada)',
                agil: '√Ågil',
                hibrido: 'H√≠brido',
                iterativo: 'Iterativo/Incremental'
            };

            let prompt = '';

            if (selectedProvider === 'claude') {
                prompt = generateClaudePrompt(projectName, description, justification, phaseLabels[selectedPhase], approachLabels[approach], selectedArtifacts);
            } else {
                prompt = generateGeminiPrompt(projectName, description, justification, phaseLabels[selectedPhase], approachLabels[approach], selectedArtifacts);
            }

            // Mostrar output
            document.getElementById('promptOutput').textContent = prompt;

            // Update instructions
            const instructions = document.getElementById('outputInstructions');
            if (selectedProvider === 'claude') {
                instructions.textContent = 'Copia el siguiente texto y p√©galo en Claude Code o Claude.ai para generar tus artefactos:';
            } else {
                instructions.innerHTML = '<strong>Instrucciones para Gemini:</strong><br>1. Copia el prompt completo<br>2. P√©galo en Google Gemini (gemini.google.com o tu GEM personalizada)<br>3. Los artefactos se mostrar√°n visualmente para copiar<br>4. Al final recibir√°s un link para descargar el ZIP con todos los archivos';
            }

            document.getElementById('outputSection').classList.add('active');
            document.getElementById('outputSection').scrollIntoView({ behavior: 'smooth' });
        }

        function generateClaudePrompt(projectName, description, justification, phase, approach, artifacts) {
            const projectCode = projectName.toUpperCase().replace(/\s+/g, '-');

            return `Act√∫a como el agente coordinador del sistema PimBo especializado en PMBOK 8.

INFORMACI√ìN DEL PROYECTO:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

Nombre del Proyecto: ${projectName}

Descripci√≥n:
${description}

Justificaci√≥n / Caso de Negocio:
${justification}

Fase del Ciclo de Vida: ${phase}
Enfoque del Proyecto: ${approach}

ARTEFACTOS A GENERAR:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

${artifacts.map((artifact, index) => `${index + 1}. ${artifact}`).join('\n')}

INSTRUCCIONES:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

1. Lee el contexto del proyecto proporcionado
2. Activa los subagentes apropiados seg√∫n los artefactos solicitados
3. Genera cada artefacto siguiendo las plantillas en /references/
4. Guarda cada archivo con el formato: ${projectCode}-[artefacto]-v1.[ext]
5. Usa los formatos especificados en config-salidas.md:
   - CSV para registros, matrices y cronogramas
   - JSON para estructuras jer√°rquicas (WBS)
   - MD para documentos narrativos (Acta, Planes)

IMPORTANTE:
- NO muestres el contenido en el chat, solo genera los archivos
- Confirma cada archivo generado con: ‚úì Archivo generado: [nombre]
- Adapta los artefactos al enfoque ${approach}

Genera los artefactos ahora.`;
        }

        function generateGeminiPrompt(projectName, description, justification, phase, approach, artifacts) {
            const projectCode = projectName.toUpperCase().replace(/\s+/g, '-');

            return `Eres PimBo, un agente experto en generar documentaci√≥n de proyectos seg√∫n PMBOK 8.

üéØ INFORMACI√ìN DEL PROYECTO
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üìã Proyecto: ${projectName}

üìù Descripci√≥n:
${description}

üíº Justificaci√≥n:
${justification}

‚öôÔ∏è Configuraci√≥n:
‚Ä¢ Fase: ${phase}
‚Ä¢ Enfoque: ${approach}

üì¶ ARTEFACTOS A GENERAR
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

${artifacts.map((artifact, index) => `${index + 1}. ${artifact}`).join('\n')}

üìã INSTRUCCIONES PARA GEMINI
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

Para cada artefacto solicitado:

1. **MOSTRAR VISUALMENTE**: Genera el contenido completo del artefacto con formato claro

2. **FORMATO DE PRESENTACI√ìN**:

   ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
   ‚ïë  üìÑ NOMBRE DEL ARTEFACTO                              ‚ïë
   ‚ïë  Archivo: ${projectCode}-[nombre]-v1.[extensi√≥n]     ‚ïë
   ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

   [CONTENIDO COMPLETO DEL ARTEFACTO AQU√ç]

   ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   ‚úÖ Listo para copiar y guardar
   ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

3. **GU√çAS POR TIPO DE ARTEFACTO**:

   üìÑ DOCUMENTOS MARKDOWN (.md):
   - Acta de Constituci√≥n
   - Plan de Comunicaciones
   - Historias de Usuario
   ‚Üí Formato: Markdown bien estructurado con t√≠tulos, listas y tablas

   üìä TABLAS CSV (.csv):
   - Cronograma Gantt
   - Presupuesto
   - Registro de Interesados
   - Matriz RACI
   - Registro de Riesgos
   - Product Backlog
   ‚Üí Formato: CSV con encabezados claros, datos completos
   ‚Üí Ejemplo:
   ID,Columna1,Columna2,Columna3
   1,Dato1,Dato2,Dato3
   2,Dato4,Dato5,Dato6

   üå≥ ESTRUCTURAS JSON (.json):
   - WBS (Estructura de Desglose del Trabajo)
   ‚Üí Formato: JSON bien formateado, estructura jer√°rquica clara

4. **CONTENIDO DE CALIDAD**:
   - Usa el contexto del proyecto para personalizar cada artefacto
   - Genera datos realistas y espec√≠ficos para "${projectName}"
   - Adapta al enfoque ${approach}
   - Incluye detalles profesionales y completos

5. **AL FINALIZAR - ARCHIVO ZIP**:

   Despu√©s de mostrar todos los artefactos, genera un resumen:

   ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
   ‚ïë  üì¶ DESCARGA TODOS LOS ARCHIVOS                       ‚ïë
   ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

   Archivos generados para ${projectName}:
   ${artifacts.map((artifact, index) => `${index + 1}. ${projectCode}-[nombre]-v1.[ext]`).join('\n   ')}

   üîΩ DESCARGA EL ZIP:
   [Genera un archivo ZIP con todos los artefactos y proporciona el link de descarga]

IMPORTANTE:
- Genera TODOS los artefactos solicitados
- Muestra el contenido COMPLETO de cada uno (no res√∫menes)
- Usa formato visual claro para f√°cil copia
- Proporciona el ZIP al final

¬°Comienza a generar los artefactos ahora! üöÄ`;
        }

        function copyPrompt(event) {
            const promptOutput = document.getElementById('promptOutput');
            const promptText = promptOutput.textContent;

            // Try modern clipboard API first
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(promptText).then(() => {
                    showCopySuccess(event.target);
                }).catch(err => {
                    // Fallback to older method
                    copyToClipboardFallback(promptOutput, event.target);
                });
            } else {
                // Use fallback method directly
                copyToClipboardFallback(promptOutput, event.target);
            }
        }

        function copyToClipboardFallback(element, btn) {
            try {
                // Create a temporary textarea
                const textarea = document.createElement('textarea');
                textarea.value = element.textContent;
                textarea.style.position = 'fixed';
                textarea.style.opacity = '0';
                document.body.appendChild(textarea);

                // Select and copy
                textarea.select();
                textarea.setSelectionRange(0, 99999); // For mobile devices

                const successful = document.execCommand('copy');
                document.body.removeChild(textarea);

                if (successful) {
                    showCopySuccess(btn);
                } else {
                    alert('Error al copiar. Por favor, selecciona y copia manualmente.');
                }
            } catch (err) {
                alert('Error al copiar. Por favor, selecciona y copia manualmente.');
            }
        }

        function showCopySuccess(btn) {
            const originalText = btn.textContent;
            btn.textContent = '‚úÖ ¬°Copiado!';
            btn.style.background = '#38a169';
            setTimeout(() => {
                btn.textContent = originalText;
                btn.style.background = '';
            }, 2000);
        }
    </script>
</body>
</html>
